# prometheus snmp exporter
# NOTE: didn't actually need this...
git clone https://github.com/prometheus/snmp_exporter.git
cd snmp_exporter
make

# download the apc mibs
# NOTE: didn't actually need this
wget https://download.schneider-electric.com/files?p_File_Name=powernet426.mib
mv "files?p_File_Name=powernet426.mib" powernet426.mib

# Generator a custom snmp.yml
# RUN INSTRUCTIONS
# run this from smbaker-work as it has dependency libraries installed
cd snmp_stuff
bash ./update.sh

# Generate a custom snmp.yml that only includes what I want
# BUILD INSTRUCTIONS --- FOLLOW THE RUN INSTRUCTIONS INSTEAD
sudo apt-get install unzip
go get github.com/prometheus/snmp_exporter/generator
cd ${GOPATH-$HOME/go}/src/github.com/prometheus/snmp_exporter/generator
emacs net_snmp.go
  # comment out these three lines:
  //      for k, v := range n.EnumValues {
  //              neEnumValuesValues[k] = v
  //      }
go build
make mibs
export MIBDIRS=/home/smbaker/gowork/src/github.com/prometheus/snmp_exporter/generator/mibs
cp ~/projects/pi/smbaker-infrastructure/snmp_stuff/generator.yml .
./generator generate
cp snmp.yml ~/projects/pi/smbaker-infrastructure/helm-charts/promgraf/premetheus-snmp-exporter/files/
